方煌杰向秦领同步GraphRAG技术细节：技术架构：GraphRAG区别于传统RAG的核心是新增知识图谱层（实体为节点、关系为边），存储采用文本序列化方案，支持graphml文件可视化（Gephi工具开启）。工作流程：用户问题解析→图谱子图检索→反向定位支撑文档→融合结构化数据与文本证据→生成逻辑连贯答案。资源配置：图谱构建阶段（实体/关系抽取）资源密集，大数据量建议云端处理；本地调试需通过max_docs限制文档量并监控内存。output_dir路径必须准确配对（已调整），图谱可视化需设snapshot_graphml=true。以上为2025/05/21 10:30:01秦领预定的会议

 秦领：这个今天请方学长跟我们介绍一下这个rag。
方煌杰： 趁现在有空，我给你简单过下咱们这次要搞的这个GraphRAG，还有知识图谱（KG）。主要就是区别于普通rag，加了图。核心就在这个“图”上。普通RAG，就是用户问个问题，咱去向量库找一堆可能相关的文本片段（chunks），一股脑塞给大模型，让它总结答案。
秦领： 嗯，是这么个流程。有时候信息太碎或者找不准。
方煌杰： GraphRAG它先基于灌进去的海量文档，自动建了一个知识图谱。这个图谱里，节点就是实体，边就是它们之间的关系。一堆这种（实体-关系-实体）的三元组。相当于把文档里的知识结构化、网络化，那这个图怎么存？用Neo4j那种图数据库？
方煌杰： 我们目前这个实现没上那么重的数据库。它就基于文本文件构建，然后存在内存里查询，或者序列化成文件（比如graphml，后面可视化那个）。关键是，建好图后，GraphRAG第一步不是直接搜文本，而是先用用户的问题去这个知识图谱里推理一遍，就是embed，将文字内容根据语义进行一个编码，然后进行相似度的一个匹配。
方煌杰： 它会把用户问题也解析出关键实体和关系，然后去图里找跟这些相关的子图。秦领： 明这个子图就浓缩了相关的结构化知识。
方煌杰：这个子图本身是结构化的三元组，GraphRAG会基于这个揪出来的子图，反向去原始文档里找那些支撑这些三元组存在的具体文本证据，这一步叫“支撑文档检索”。找回来的文本片段，都是跟这个子图强绑定的，非常精准。
秦领：相当于图谱先导航，定位到最相关的知识区域，然后再去那片区域挖具体的文本证据？
方煌杰： 对对对！就是这个意思！最后，把用户问题、这个浓缩的子图（结构化知识）、以及精准检索到的支撑文本证据，一起打包喂给大模型。信息又全又准，关系也理得清，生成的答案更靠谱、逻辑更连贯，还能解释推理过程。
秦领： 听起来确实牛。那这个图谱构建… 耗资源吗？我们本地跑得动？
方煌杰： 构建过程是挺吃资源的，要解析文档、抽实体关系、建图。文档量大了肯定慢。最终可以考虑把图谱构建这部分丢云端去跑，本地只做查询和推理。不过咱们现在demo阶段，小数据量本地还能扛。你跑的时候注意看内存，我调试时发现文档稍多点，构建那步
方煌杰： 没错！那些参数控制图谱构建的细节，比如用哪个模型抽实体关系、建图的算法、线程数等等。不过咱们刚开始，大部分默认就行。最终生成的图谱文件和索引文件（就是那些output），就是我们查询的“数据库”。所以路径一定要配对，就像我们后面改 output_dir 一样，不然查不到东西。
秦领： 嗯，路径问题坑多。那个可视化 graphml 文件也是构建时生成的？
方煌杰： 配置文件里 snapshot_graphml 设为 true 它就会生成。你可以用工具gephi打开看看图的结构，能直观看到实体怎么连的，后面演示效果时，这个图也能拿出来秀一下，显专业。
秦领： 明白了。






2025/07/14 21:28:01 秦领预定的会议

秦领表示已经完成了一套代码的封装，可以运行并上传。方煌杰询问了配置文件的修改，秦领表示会在终端往下找。方煌杰提到了两个output文件的修改，以便在查询时能够找到。秦领还提到了模型地址和embedding的相关设置。方煌杰表示在修改配置文件时遇到了一些问题，秦领表示可以尝试修改。秦领：还提到了一个关于代码奇怪的问题，方煌杰表示会尝试修改。秦领：表示今天可以演示一下代码的效果，并计划制作一个界面设计。方煌杰表示可以将推理部分交给云端，让用户选择使用云端还是本地推理。最后，秦领和方煌杰表示会尝试演示如何使用远程模型。

秦领：等我回去拿个鼠标。我现在暂时写了一套代码。就把它全部封装成，然后这边的话先开始就是先去抓那个录音，然后去调那个 build 这一块是比较的，然后就要去查询了。
现在用这一套代码就是可以全部跑起来了，我待会把它上传一下。关于这个配置的话，你我想看一下你刚刚是改的哪个地方？
方煌杰：我改的是在你这边找一下那个什么，你看一下往下滑。
方煌杰：把 terminal 往下。下面有两个 output 对这一个是 report 这边就是第80几行80几？
方煌杰：对这边什么base dir这个这两个对下面我已经改掉了，下面那个 output。
方煌杰：这就是改改到改成什么 outputs？你每次就是跑的那个，我那个 output 文件都是另外再存一个，然后的支持你查询的时候，它所有的 output 里面的文件夹它都可以查到，然后我就想用这个来说弥补一下我们这个没有做动态的这个功能。
好好好。
方煌杰：对所以我就把这个改了一下，然后是待会就如果就是咱们跑两个的话，然后再看一下是不是两个都能就查询得到，就是两份都能查询得到这样子。
方煌杰：然后上面那个 output 也要改上面那个一对，也是把上面也一起改掉，就这样。
他也是改成这个？
方煌杰：然后是再往下面再下面。你你先改也可以。然后是往下？还在最下面是最下面那个。在这里，snap shot 只有138行。然后古拉夫布拉美？
方煌杰：对这个graphml改true，然后这个的话做我们这个图谱的一个数据库的一个可视化。它会生成一个 summaly 的文件，然后可以导出去外面看看看这个图里面的结构这样子。
好的。我就是先去给他测这个。那你看一下看能就是能不能跑通吧这个这样改了之后会不会对别的有什么影响？
秦领：我待会可以测试一下，然后就关于这个模型的话，我就是这样的，就是我们这个 local 的111434这个地址的话就是我们的 model 就是我们的语言模型的一个地址。然后我他不是还有一个 embedding 吗？embedding 的话就模型就是我们跑在 NPU 上的。然后还有一个 embedding 的话，我们用的就是ollma上的它这个我给端口改到111500就是你要每次跑之前你要去改端口，不然会报错的。
对 embedding。
方煌杰：我刚刚就是这个问题，它显示说什么说已占用，但是我就是没找到是谁在占用它。
有时候可能是这个问题。你先要把这边的这个是你可能是谁在用吧，我也不知道可能有谁有人在用这个 NPU，我也不太清楚。他们搞得也是很麻烦。很多人用一台电脑搞都搞不清。
有可能我最后我看了一下，就是我把全部都关掉了之后它还显示还有在运行，我那我是别人在运行是。
秦领：对差不多就那差不多，就这样，然后我今天的话，我可以做一个效果演示出来，就是把刚刚那个代码运行一下，然后看一下整体的一个效果。对，然后我就配置文件，我再回去改一改。
方煌杰：好好。
秦领：还有一个问题就是他这边有他有配置，它是一个什么意思？它我觉得他这个写东西很奇怪，他是不断的向那个模型去发请求的，他不是说等等模型请求给他返回东西之后再去发东西，他是故意这个，我觉得他这个代码写的就很奇怪，为什么要这样写，我搞不懂它。
方煌杰：我记得他这边他请求就是一次性请求多少次，好像也可以改，我记得要改这个。就好这个 current request。对这。要改成一，我们这个 local 模型，它不支持多次，会报错的。不对我调试的时候他说好像是支持同时接五个，好像是有一个模型是这样说的，有一个模型调试的时候说是能接五个线程。
秦领：不是不行的，他是不是这个意思。他是最多有五个，那个五个 prompt 他有五个在那个队列里面，最多，不是说一次一次性处理，我们只给他设置，但其实是他没有办法去同时处理五个。这边都是只能设成一。
方煌杰：那这应该能跑，就影响不大了。
秦领：对我之前是我记得那个是测试成功了吧，那次我那天晚上那一次是他是后来是成功了吗？
跟就前天晚上不是？我是纯纯纯 local 跑的。
方煌杰：对那次是跑通了那次，然后查询也可以。还是都跑通了？ok ok ok 你你你演示出来之后，那我们就可以开始做那个什么做界面设计UI套壳子了。
秦领：对套个壳子就行，对后后面的话我就是我还有个想法，就是说我们把这个推理的我们就是到时候做两份代码就是就做两份配置，一份一份配置，用那个云端的一份配置用本地的，然后交给用户去选择。用户他想用云端就让他用云端推理也快点。
方煌杰：就制作图谱那一块可以丢给云端。但是对就把反正到时候给搞个开关啥的，让他切换一下。那可以，然后里面那个 API 就只是处理小图的话可以处理非常多次。



















2025/07/27 10:09:36 秦领预定的会议

讨论了项目介绍PPT的制作和内容修改。首先，秦领提出了PPT的整体结构和内容，包括项目简介、技术实践、商业和技术等方面。然后，双方就PPT的具体内容进行了详细的讨论和修改，如项目简介的简洁性、技术部分的亮点介绍、商业前景和商业模式的讨论等。此外，秦领还提到了关于项目特点、系统支持、回答记录等方面的内容。最后，双方确定了下一步的工作计划，包括完成对比视频、与高老师沟通PPT修改等问题，并计划在28号晚上之前完成大部分工作。

以下为会议对话文本内容
秦领： 
我已经开始录制了，我要共享一下屏幕，就是我把那个 slience 改了一下，然后有几点可能还是学长后面帮我。帮我继续去改一下，我有几点想法，对，就是我们现在一页一页来看吧，第一页没什么好说的，第二页就是说是这样，我们先现实模型介绍，然后是技术实践，然后把商业和技术这样换一下，我想商业模式部分放到第三个讲，或者到时候问一下那个高老师。
方煌杰：商业第三，我也觉得是商业模式放在第三页，先讲技术实现吧！
秦领： ：就是换一下的事情，然后这个界面切换这个界面，到时候可能麻烦你再改一改或者怎么样的，我感觉有点单调，没事到时候再说，然后的话我主要改了一点，就是先是一个简介吧，简介我这边改得稍微简洁一点。
方煌杰：好好。
秦领： 到时候我就打算稍微过一下就行，稍微介绍一下。这是第一部分，先讲我们的一个简介项目简介，然后我们的一个目标场景。然后这两个没什么问题，然后我先跳到我们的技术部分，就是我改得比较多一点，然后这个技术的话，我差不多就是就重新把这个图画了一下，到时候我就照这张图讲一下。这下面其实无所谓的，主要还是靠我讲。先讲我们整一个整的技术路线，然后去讲一下我们技术路线中的一些亮点就是包括一些实时的语音识别和转写，然后 NPU 的本地化 AI 部署。然后是这三个主要的亮点.对我们不用放这么多。
方煌杰 ：我是想说你到时候你直接说我们已经调研的就是这些模型，然后就是综合来就选的这个GraphRAG别的模型就不讲了，咱们就说咱们调研过这个意思。
秦领：:我的想法是这样的，就是我们中间有个圆，然后你这边写个 RAG，然后你这边就比如说这边分三个点，我们就直接选三个就行了。我觉得你这边，比如说这边选一个 graphrag，然后讲一下它的优点和缺点，然后这边再选一个R，然后这边再来一个我的想法是这样，这样子的话看上去简洁一点。
秦领：你觉得怎么样，我刚刚在那个智能图形里面找到那个像模板一样的东西，咱们就选三个最火，你觉得最主流一点的就是。
方煌杰：我觉得可以。
秦领：这个我把我截图发到群里，这个可能是这边要改，然后下面的话我就是介绍一下我们这个 fast flow llm 的项目。我们相当于说是一个自研的开源项目，然后这边讲一下它的一个项目特点，就是这其实也是我们最能跟别人区别的最大一点，因为别人用的都是他们官方提供那种模型，其实推理效率不是很高的。
秦领：你看之前人在群里，他你看之前这个人群去哪？
方煌杰：他们到现在适配都还没做。
秦领： 不是他们那个推理，其实际去跑的时候，他那个你看 NPU 利用率根本就站不上去的，因为说他是那个它应用模型，它是有两个阶段，1个是 prefer，一个是 decode，那个 prefer 是在 GPU 上做的，然后它其实 NPU 的利用率是不高的，功耗非常高，我们之前测过的。
秦领：对这是我们的这个项目的一个比较大头的地方，所以我准备花多一点时间去介绍，就是这个开源项目，然后首先是简单就是过一下这个开源项目，然后就是讲一下这个特点。然后我准备第三页，就是把我后面去做一下对比，反正就是后面在展示视频里面要去做一些功耗的对比，就是因为我们的这个项目是和这个ollama和 llm studio 去做对标的。和他们在一起的话，我想就是做一下功耗对比，然后做一下就是你的推理速度的对比，到时候我会把我绘画一些折线图放到这上面来。
秦领： 然后关于后面我们产品优势的话，我有点想法，就是比如说我们第一点就是智能关联与秘书功能，就是我们一页只讲一个点。我是这样想的。就比如说这边是你的这个智能技术有关功能，然后这个是我们的优势，然后这个是传统的一个劣势。然后的话这边就直接放一张，我觉得可能就是有关联的一点的图吧，就是随便找个图就搁这放着就得了，就是我的想法就是就每幅图也尽量把内容减少一点，然后我们到时候可以快速的去翻页。
秦领： 你觉得怎么样？
方煌杰：可以。我主要是担心拆开讲的话就是提前他时间不知道有没有要求，他好像也都没说。
秦领：他上次都没说，那上次他们都没讲，对我直接多搞几页，多翻几页得了，那他们都反正没时间要求，就象征性提一下。
方煌杰：对时间没要求。
秦领： 无所谓了，你多搞几页，这样还能清楚一点，就因为我感觉表格的话，可能我感觉表格还是这个图可能后面得麻，这边可能后面得麻烦你整理一下，然后我这个也复制一下发群。
方煌杰：可以这样子重点比较突出，这样子。好。
秦领：就差不多就是每一点，然后找个随便找个图，然后智能秘书功能你就搞个人在记笔记，然后突破增强，你就把那你就能不能去。因为我们不是有导出那个什么 TML 的文件，就是那个 graph 的那个文件，可视化文件，你就搞个截图，就这个第二点的是。
方煌杰：那个图就网上随便搜一下都可以没什么问题。
秦领：然后只是更新和响应速度的话，我到时候就把我的你这一点你到时候就空着我把我到时候我把我的那个速度的一个对比图贴上去。数据安全的话，你就找个像锁一样的数据安全就 AI 画一个低功耗，也叫 AI 画一个得了。
方煌杰：好。可以。
秦领：其实差不多，这样的话技术部分就结束了，然后的话就是关于这个商业前景，我看一下他这个网站上是怎么说的。第一个是商业前景，然后第二个是商业模式。然后商业前景和商业模式，然后我看一下我们这边。
方煌杰：模式的话，我只做了一页纸模式，我做了一页。
秦领：对是前景，市场规模调研，这差不多也是一个前景，这个是市场前景，然后这个也是对我把你的那个字全部删掉了，到时候那些字的话，我们就拿个 word 记一下，好了，就是到时候直接照着念。
方煌杰：你到时候。
秦领：：你觉得怎么样，对，就咱就是尽量少放放点子上去。
方煌杰：ok到时候我估计你也不能照着念，到时候你就看着发挥就介绍清楚就行，对临场发挥其实更好一点。
秦领：临场发挥一样，我的一个想法就是这一页就全它全都是那个。就可能就全是树状图的是这一块，你把这个姓名城市年龄职业学历，然后你把它画成。搞成就是一个圈圈饼状饼，你把它搞成饼图，这样的话就不然这张图我感觉全是那个树状图，可能有点单调。
方煌杰:饼状的？可以我就你就改上面那张。
秦领：:市场这一块我暂时没有什么好的想法，你有啥想法吗？
方煌杰;就是这上面都是那些市场规模的去调研。
秦领：;那商业模式是就是这个商业模式，就是我想一想。
方煌杰:对。
秦领：商业模式。到时候就再请教一下高老师，这个我也不是很懂。
方煌杰:高老师和我都没什么商业模式经验。
秦领：:就到时候商业模式都到时候再说了，然后主要是我那边明天要把对比一下做完，明天我给我抓加下分。差不多这样了，然后差不多说得这样就是把这一块改一改。然后 demo 的话我也是明天继续做吧。demo明天我是顺带一起把那个视频给他录下来。其实差不多就这样结束了。
方煌杰:然后成员那边那块的话，你就咱们都一起改进一下，都给他写上去。就像你的那些竞赛经历什么的，还有你在学术上交流，还有在美国哪个实验室交流，这些都给他写上去，然后。
秦领：没事后面都好改。
方煌杰:对的。你那个一页纸你现在看一下，看有没有意见，咱们先改完。
秦领：:一页纸我看一下。
方煌杰;咱们先改完再发给高老师。
方煌杰:我就再调了一下就项目简介就多说一点，然后再在最后的话，我再把那些亮点什么的再重要介绍一下系统特点。
秦领：然后先项目介绍，然后项目的一个页面给一下，然后搜索项系统支持回答记录系统特点，用 AI 输出声纹识别语音转写。
方煌杰:里面一个介绍。
秦领：语音文本。我觉得可以了。我也没有什么更好的意见。
方煌杰:写的内容太少，那先这样？
秦领：这是就大概介绍一下，大概就把主要功能都介绍一下，然后能吹得牛，我们也都吹了这个系统特点我们也都吹吹上去。
方煌杰:Ok.
秦领：:OK 那差不多就这样，今天就这样有可能辛苦，你要再改一下。
方煌杰:我下午改完我。
秦领：然后明天我早点起来吧，早点起来发群里。
秦领：跟我去跟高老师聊一聊。那差不多就是这块，然后明天抓紧做，那还有几天，还有四天，你们这边那边是27号？已经27号了。我这边还有26号，那还有三天，还有四天。
方煌杰;我们今天是27号为止。对。
秦领：;4天我们大概规划一下，你现在是27号。我大概是27号到28号，我可以把那个就28号吧，就28号晚上之前我把那个视频和对比的结果给他就是。这一部分给他做完，就这一部分介绍这个推理架构的这部分给他做完，然后把视频也给他搞完对比什么的都给他跑完28号。就跟老师说就跟老师对一下线，就咱们争取能在30号就把它交了。